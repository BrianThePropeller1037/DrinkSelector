<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>飲料推薦系統</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="container">
    <h1>🍹 幫我想喝什麼！</h1>
    <form id="form">
      <label>預算（台幣）：</label>
      <input type="number" name="budget" required><br>

      <label>選擇店家：</label>
      <select name="store">
        <option>全部店家</option>
        {% for store in stores %}
        <option>{{ store }}</option>
        {% endfor %}
      </select><br>

      <label>飲料類別：</label>
      <select name="category">
        <option>不限</option>
        <option>奶茶類</option>
        <option>純茶類</option>
        <option>水果類</option>
        <option>其他</option>
      </select><br>

      <button type="submit">幫我想想！</button>
    </form>

    <div id="result"></div>
  </div>

  <script>
    document.getElementById('form').onsubmit = async function (e) {
      e.preventDefault();
      const formData = new FormData(this);
      const res = await fetch('/suggest', {
        method: 'POST',
        body: formData
      });
      const data = await res.json();
      const result = document.getElementById('result');
      result.innerText = data.error ? data.error : 
        `推薦：${data.store} 的「${data.drink}」\n價格：$${data.price}，分類：${data.category}`;
    };
  </script>
</body>
</html>
